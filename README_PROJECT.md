# Демо приложение службы такси для Telegram Mini App

## Описание проекта

Демонстрационное приложение для службы такси, разработанное как Telegram Mini App с оптимизацией под мобильные устройства. Приложение реализует полный цикл заказа такси: от выбора адресов до отслеживания водителя в реальном времени.

## Технологический стек

- **Framework**: Next.js 14 (App Router)
- **Язык**: TypeScript
- **Стилизация**: Tailwind CSS
- **State Management**: Zustand
- **Хранение данных**: localStorage
- **Telegram Integration**: @twa-dev/sdk

## Структура проекта

```
Taxis Demo/
├── app/
│   ├── layout.tsx          # Корневой layout с метаданными
│   ├── page.tsx            # Главная страница приложения
│   └── globals.css         # Глобальные стили с glassmorphism эффектом
├── components/
│   ├── AddressInput.tsx    # Компонент ввода адресов с автоподсказками
│   ├── CarClassSelector.tsx # Выбор класса автомобиля
│   ├── DriverTracking.tsx  # Отслеживание водителя в реальном времени
│   ├── MapView.tsx         # Карта с отображением маршрута
│   ├── RideOptions.tsx    # Дополнительные опции (детское кресло, багаж)
│   └── RideSummary.tsx    # Итоговая информация и кнопка заказа
├── store/
│   ├── addressStore.ts    # Store для управления адресами
│   └── rideStore.ts       # Store для управления поездкой
├── package.json
├── tsconfig.json
├── tailwind.config.js
└── next.config.js
```

## Ключевые особенности

### 1. Дизайн с эффектом стекла (Glassmorphism)
- Использован современный эффект стекла в стиле iOS
- Полупрозрачные элементы с размытием фона
- Желтый цвет (#FFD700) как основной акцентный цвет
- Плавные анимации и переходы

### 2. Функциональность

#### Карта и местоположение
- Отображение текущего местоположения пользователя
- Визуализация маршрута между точками отправления и назначения
- Имитация карты с дорожной сетью

#### Ввод адресов
- Поля "Откуда" и "Куда" с автоподсказками
- Интеграция с сохраненными адресами (Дом, Работа)
- Тестовые данные для демонстрации функционала

#### Выбор класса автомобиля
- **Эконом** - бюджетный вариант (от 150₽)
- **Комфорт** - средний класс (от 250₽)
- **Бизнес** - премиум класс (от 400₽)

#### Расчет стоимости
- Динамический расчет цены на основе:
  - Класса автомобиля
  - Расстояния маршрута
  - Дополнительных опций
- Расчет времени поездки

#### Дополнительные опции
- Детское кресло (+50₽)
- Багаж (+30₽)

#### Отслеживание водителя
- Поиск водителя с анимацией загрузки
- Отображение информации о водителе:
  - Имя
  - Модель автомобиля
  - Номерной знак
  - Рейтинг
- Отслеживание статуса:
  - Поиск водителя
  - Водитель найден
  - Водитель в пути
  - Водитель прибыл

### 3. Хранение данных

Все данные хранятся в localStorage:
- Состояние поездки (ride-storage)
- Сохраненные адреса (address-storage)
- История заказов (orders)

### 4. Оптимизация для мобильных устройств

- Поддержка safe-area для устройств с вырезами (notch)
- Адаптивный дизайн
- Оптимизация для Telegram Mini App
- Touch-friendly интерфейс

## Установка и запуск

### Предварительные требования

- Node.js 18+ 
- npm или yarn

### Установка зависимостей

```bash
npm install
```

### Запуск в режиме разработки

```bash
npm run dev
```

Приложение будет доступно по адресу: `http://localhost:3000`

### Сборка для продакшена

```bash
npm run build
npm start
```

## Тестовые данные

Приложение использует тестовые данные для демонстрации:

### Адреса для автоподсказок:
- Москва, Красная площадь, 1
- Москва, Тверская улица, 10
- Москва, Арбат, 25
- Москва, Ленинский проспект, 50
- И другие популярные адреса Москвы

### Сохраненные адреса:
- Дом: Москва, ул. Ленина, 10
- Работа: Москва, ул. Тверская, 5

### Водитель (при заказе):
- Имя: Иван Петров
- Автомобиль: Toyota Camry
- Номер: А123БВ 777
- Рейтинг: 4.8

## Использование

1. **Ввод адресов**: Введите адрес отправления и назначения в соответствующие поля
2. **Выбор класса**: Выберите класс автомобиля (Эконом, Комфорт, Бизнес)
3. **Дополнительные опции**: При необходимости выберите детское кресло или багаж
4. **Просмотр стоимости**: Стоимость и время поездки рассчитываются автоматически
5. **Заказ такси**: Нажмите кнопку "Заказать такси"
6. **Отслеживание**: Следите за статусом поиска и прибытия водителя

## Особенности реализации

### Glassmorphism эффект

Реализован через CSS класс `.glass`:
```css
.glass {
  background: rgba(255, 255, 255, 0.7);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 255, 255, 0.18);
  box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.37);
}
```

### State Management

Используется Zustand для управления состоянием:
- `rideStore` - состояние поездки, расчет цены
- `addressStore` - сохраненные адреса и автоподсказки

### Расчет стоимости

Алгоритм расчета:
```
Базовая цена (зависит от класса) + 
(Расстояние × Коэффициент класса) + 
Дополнительные опции
```

Коэффициенты:
- Эконом: 25₽/км
- Комфорт: 35₽/км
- Бизнес: 50₽/км

## Интеграция с Telegram

Приложение готово к интеграции с Telegram Mini App через `@twa-dev/sdk`. SDK автоматически инициализируется при загрузке приложения.

## Будущие улучшения

- Интеграция с реальным API геокодинга
- Реальная карта (Google Maps / Yandex Maps)
- Интеграция с платежными системами
- Push-уведомления
- История поездок
- Профиль пользователя
- Система рейтингов

## Лицензия

Демо проект для презентации функционала.

## Контакты

Для вопросов и предложений обращайтесь к разработчику.

---

**Примечание**: Это демонстрационное приложение. Все данные тестовые и не связаны с реальными сервисами.

